  
  <mat-tab-group>
      
<mat-tab label="Escala Braden">
  <br>
    <div class={{ThemeBraden}} role="alert">
        {{MsgBradenTheme}}
      </div>
  <div class="form-group">
          

          <div class="example-container">

              <div>
                  Piel Integral
                  <mat-slide-toggle [(ngModel)]="valoracion.pielIntegra" class="flex-sm-row-reverse"></mat-slide-toggle>            
                  <br>
                </div>
                
              <mat-form-field>
                  <input matInput [(ngModel)]="valoracion.observacion_Piel" placeholder="Observacion Piel">
                </mat-form-field>


            <mat-form-field >
              <mat-select [(value)]="valoracion.percepcion_sensorial" (change)="onSelectChange($event)" placeholder="Percepcion Sensorial">                
                <mat-option value="1">Completamente Limitado</mat-option>
                <mat-option value="2">Muy limitado</mat-option>
                <mat-option value="3">Levemente Limitado</mat-option>
                <mat-option value="4">Ninguna Limitacion</mat-option>
              </mat-select>
            </mat-form-field>
          </div>
       
        
        
          <div class="example-container">
            <mat-form-field >
              <mat-select [(value)]="valoracion.exposicion_humedad" (change)="onSelectChange($event)" placeholder="Exposicion a la humedad">                
                <mat-option value="1">Excesivamente Humeda</mat-option>
                <mat-option value="2">Muy humeda</mat-option>
                <mat-option value="3">Ocasionalmente humedo</mat-option>
                <mat-option value="4">Raramente humedo</mat-option>
              </mat-select>
            </mat-form-field>
          </div>

          <div class="example-container" >
              <mat-form-field >
                <mat-select [(value)]="valoracion.actividad" (change)="onSelectChange($event)" placeholder="Actividad">                  
                  <mat-option value="1">Completamente Inmovil</mat-option>
                  <mat-option value="2">Confinado a silla</mat-option>
                  <mat-option value="3">camina Ocasionalmene</mat-option>
                  <mat-option value="4">camina Frecuentemente</mat-option>
                </mat-select>
              </mat-form-field>

              <mat-form-field >
                  <mat-select [(value)]="valoracion.movilidad" (change)="onSelectChange($event)" placeholder="Movilidad">                    
                    <mat-option value="1">Completamente Inmovil</mat-option>
                    <mat-option value="2">Muy Limitado</mat-option>
                    <mat-option value="3">Levemente limitado</mat-option>
                    <mat-option value="4">Ninguna Limitacion</mat-option>
                  </mat-select>
                </mat-form-field>

                <mat-form-field >
                  <mat-select [(value)]="valoracion.nutricion" (change)="onSelectChange($event)" placeholder="Nutricion">                    
                    <mat-option value="1">Deficiente</mat-option>
                    <mat-option value="2">Inadecuada</mat-option>
                    <mat-option value="3">Adecuada</mat-option>
                    <mat-option value="4">Excelente</mat-option>
                  </mat-select>
                </mat-form-field>

                <mat-form-field >
                  <mat-select [(value)]="valoracion.friccion_cizallamiento" (change)="onSelectChange($event)" placeholder="Friccion y Cizallamiento">                    
                    <mat-option value="1">Requiere maximo cuidado</mat-option>
                    <mat-option value="2">Requiere minimo cuidado</mat-option>
                    <mat-option value="3">Sin problema aparente</mat-option>                    
                  </mat-select>
                </mat-form-field>

                <mat-form-field>
                    <textarea matInput placeholder="Comentario" name="comentario" [(ngModel)] = "valoracion.observaciones_Braden"></textarea>
                  </mat-form-field>
            </div>
  </div>
    
  </mat-tab>

  <mat-tab label="Indice Barthel">
      <div class={{ThemeBarthel}} role="alert">
          {{MsgBarthel}}
        </div>
    <div class="form-group">
     
      <div class="example-container" >
        <mat-form-field >
          <mat-select [(value)]="valoracion.banarse" (change)="OnSelectChangeBartel($event)" placeholder="Banarse">
            <mat-option value="0">Incapaz de hacerlo</mat-option>
            <mat-option value="1">Intenta pero inseguro</mat-option>
            <mat-option value="3">Alguna Ayuda</mat-option>
            <mat-option value="4">Minima Ayuda</mat-option>
            <mat-option value="5">Independiente</mat-option>
          </mat-select>
        </mat-form-field>
      </div>
   
    
    
      <div class="example-container">
        <mat-form-field >
          <mat-select [(value)]="valoracion.comer" (change)="OnSelectChangeBartel($event)" placeholder="Comer">
            <mat-option value="0">Incapaz de hacerlo</mat-option>
            <mat-option value="2">Intenta pero inseguro</mat-option>
            <mat-option value="5">Alguna Ayuda</mat-option>
            <mat-option value="8">Minima Ayuda</mat-option>
            <mat-option value="10">Independiente</mat-option>
          </mat-select>
        </mat-form-field>
      </div>

      <div class="example-container" >
          <mat-form-field >
            <mat-select [(value)]="valoracion.usar_retrete" (change)="OnSelectChangeBartel($event)" placeholder="Uso del retrete">
              <mat-option value="0">Incapaz de hacerlo</mat-option>
              <mat-option value="2">Intenta pero inseguro</mat-option>
              <mat-option value="5">Alguna Ayuda</mat-option>
              <mat-option value="8">Minima Ayuda</mat-option>
              <mat-option value="10">Independiente</mat-option>
            </mat-select>
          </mat-form-field>

          <mat-form-field >
              <mat-select [(value)]="valoracion.subir_escalera" (change)="OnSelectChangeBartel($event)" placeholder="Uso de escaleras">
                <mat-option value="0">Incapaz de hacerlo</mat-option>
                <mat-option value="2">Intenta pero inseguro</mat-option>
                <mat-option value="5">Alguna Ayuda</mat-option>
                <mat-option value="8">Minima Ayuda</mat-option>
                <mat-option value="10">Independiente</mat-option>
              </mat-select>
            </mat-form-field>

            <mat-form-field >
              <mat-select [(value)]="valoracion.vestirse" (change)="OnSelectChangeBartel($event)" placeholder="Vestirse">
                <mat-option value="0">Incapaz de hacerlo</mat-option>
                <mat-option value="2">Intenta pero inseguro</mat-option>
                <mat-option value="5">Alguna Ayuda</mat-option>
                <mat-option value="8">Minima Ayuda</mat-option>
                <mat-option value="10">Independiente</mat-option>
              </mat-select>
            </mat-form-field>

            <mat-form-field >
              <mat-select [(value)]="valoracion.ctrl_deposicion" (change)="OnSelectChangeBartel($event)" placeholder="Deposicion">
                <mat-option value="0">Incapaz de hacerlo</mat-option>
                <mat-option value="2">Intenta pero inseguro</mat-option>
                <mat-option value="5">Alguna Ayuda</mat-option>
                <mat-option value="8">Minima Ayuda</mat-option>
                <mat-option value="10">Independiente</mat-option>                   
              </mat-select>
            </mat-form-field>

            <mat-form-field >
              <mat-select [(value)]="valoracion.ctrl_miccion" (change)="OnSelectChangeBartel($event)" placeholder="Miccion">
                <mat-option value=0>Incapaz de hacerlo</mat-option>
                <mat-option value=2>Intenta pero inseguro</mat-option>
                <mat-option value=5>Alguna Ayuda</mat-option>
                <mat-option value=8>Minima Ayuda</mat-option>
                <mat-option value=10>Independiente</mat-option>                   
              </mat-select>
            </mat-form-field>

            <mat-form-field >
              <mat-select [(value)]="valoracion.caminar" (change)="OnSelectChangeBartel($event)" placeholder="Caminar">
                <mat-option value="0">Incapaz de hacerlo</mat-option>
                <mat-option value="2">Intenta pero inseguro</mat-option>
                <mat-option value="10">Alguna Ayuda</mat-option>
                <mat-option value="14">Minima Ayuda</mat-option>
                <mat-option value="15">Independiente</mat-option>                   
              </mat-select>
            </mat-form-field>

            <mat-form-field >
              <mat-select [(value)]="valoracion.traslado_silla_cama" (change)="OnSelectChangeBartel($event)" placeholder="Traslado Silla Cama">
                <mat-option value="0">Incapaz de hacerlo</mat-option>
                <mat-option value="2">Intenta pero inseguro</mat-option>
                <mat-option value="10">Alguna Ayuda</mat-option>
                <mat-option value="14">Minima Ayuda</mat-option>
                <mat-option value="15">Independiente</mat-option>                   
              </mat-select>
            </mat-form-field>

            <mat-form-field>
                <textarea matInput placeholder="Comentario" name="comentario_val" [(ngModel)] = "valoracion.Observaciones_val"></textarea>
              </mat-form-field>


            <mat-form-field>
              <textarea matInput placeholder="Plan de cuidados" name="plan_cuidados" [(ngModel)] = "valoracion.PlandeCuidados"></textarea>
            </mat-form-field>
        </div>
</div>


  </mat-tab>

  <mat-tab label="Medicamentos">  
    <form (submit)="AddMedicamentoToHist()" >          
    <br>

    <div class="example-container">
        
     

    <mat-form-field>
        <mat-select placeholder="Medicamento" name="medicamentos" [(value)]="insumoPaciente.id_prod" name="listMx">
          <mat-option *ngFor="let med of medicamentos | async" [value]="med.id_prod">
            {{med.nom_prod}}
          </mat-option>
        </mat-select>
      </mat-form-field>



  <mat-form-field>
  
    <input matInput type="text" placeholder="Dosificacion" name="dosis" [(ngModel)]="insumoPaciente.dosis" >
    </mat-form-field>
  


    <mat-form-field>
        <input matInput  type="time" placeholder="Hora Dosificacion" [(ngModel)] = "insumoPaciente.hora" name="hora">
      </mat-form-field>

    </div>


  <button class="btn btn-primary" type="submit" value="Guardar">Agregar a lista</button>




</form>
<div>                   

      <table class="table table-striped table-sm">
          <thead>
            <tr>
              <th >Producto</th>
              <th scope="col">Dosis</th>
              <th scope="col">Hora</th>
              <th scope="col"></th>                    
            </tr>
          </thead>
          <tbody>
            <tr *ngFor="let hist of historial | async"> 
              <td>{{hist.medicamento.nom_prod}}</td>
              <td>{{hist.dosis}}</td>
              <td>{{hist.hora}}</td>
              <td>
                <button mat-icon-button color="warn" (click) = "DeleteMedicPaciente(hist.id_MedxSeg)">
                  <mat-icon aria-label="Example icon-button with a heart icon">delete</mat-icon>
                </button>
              </td>              
            </tr>
            
          </tbody>
        </table>
    
</div>  
<br />
</mat-tab>
  
</mat-tab-group>

<div class="row">
  <div class="col">
    <button type="button" class="btn btn-primary btn-block " (click)="SaveValoracion()">Guardar</button>  
  </div>
  
  <div class="col">
    <button type="button" class="btn btn-danger btn-block " (click)="Cancelar()">Cancelar</button>
  </div>
  
</div>



